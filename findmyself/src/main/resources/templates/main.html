<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/range.css">
    <link rel="stylesheet" href="/css/icheck-bootstrap.css">
    <link rel="stylesheet" href="/css/toggle-radios.css">
    <link rel="stylesheet" href="/css/input.css">
<title>FindMyself 메인</title>
    <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=b7fc83b99b816527f18b3bf2bce8208e&libraries=services"></script>
    <script src="https://apis.openapi.sk.com/tmap/jsv2?version=1&appKey=l7xx054e772885bf4fd6bff6bbf96c1884af"></script>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script type="text/javascript" src="/js/map.js"></script>
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script> <!--다음 도로명 주소 api -->
    <script type="text/javascript" src="/js/requirements.js"></script>
    <script type="text/javascript" src="/js/slider.js"></script>
    <script>
        var click_cnt = 1;
        function click_detail_btn(){
            if(click_cnt%2 == 1) { //숨긴 상태 -> 펼치기
                document.getElementById("convenient_detail").style.display="block";
                document.getElementById("detail_btn_img").src = "/image/close.png";
            }else{ // 펼친 상태 -> 숨기기
                document.getElementById("convenient_detail").style.display="none";
                document.getElementById("detail_btn_img").src = "/image/open.png";
            }
            click_cnt++;
        }
    </script>
</head>
<body>
    <div class="header">
        <div class="logo-wrap">
            <a th:href="@{/}">
                <img src="/image/logo4.png">
            </a>
        </div>
    </div>
    <div class="container">
        <div class="map_wrap">
            <div id="map" style="width: 100%; height: 850px;position:relative; overflow:hidden; border-radius: 4px" >
                <script th:inline="javascript">
                    var mapContainer = document.getElementById('map'), // 지도를 표시할 div
                        mapOption = {
                            center: new kakao.maps.LatLng(37.566826, 126.9786567), // 지도의 중심좌표
                            level: 9 // 지도의 확대 레벨
                        };

                    var map = new kakao.maps.Map(mapContainer, mapOption),
                        customOverlay = new kakao.maps.CustomOverlay({});

                    // 서울 전체 지도
                    DrawPolygon();

                    /*<![CDATA[*/
                    var codeList = /*[[ ${codeList} ]]*/;
                    if(codeList != null) {
                        codeList.forEach(function(code) {
                            Draw_HangJungDong(code, /*[[ ${rq.address} ]]*/);
                        });
                    }
                    /*]]*/

                </script>
            </div>
        </div>
        <div class="choice_wrap">
            <form name="choice_form" action="/find.do" th:object="${rq}" method="post"  onsubmit="return check()">
                <div class="requirements" id="budget1">
                    <p>예산</p>
                    <span class="radio icheck-info">
                        <input type="radio" id="info1" name="home-type" value="charter"
                               onclick='hideMonthly()'>
                        <label for="info1">전세</label>
                    </span>
                    <span class="radio icheck-info">
                        <input type="radio" id="info2" name="home-type" value="monthly"
                               onclick='showMonthly()' checked="checked">
                        <label for="info2">월세</label><br><br>
                    </span>
                    <div id="depoist_wrap">
                        <div class="input_container">
                            <div class="text-input">
                                <input id="deposit_value" type="text" th:field="*{deposit}" placeholder="만원">
                                <label for="deposit_value">보증금(만원)</label>
                            </div>
                        </div>

                        <div class="range_container">
                            <div class="slider-ui color">
                                <input type="range" min="0" max="20000" step="100" th:field="*{deposit}"
                                       oninput="document.getElementById('deposit_value').value=this.value;">
                                <div class="bar">
                                    <span class="min">0</span>
                                    <span class="max">20000</span>
                                </div>
                                <div class="track">
                                    <div class="value" th:text="*{deposit}"></div>
                                </div>
                            </div>
                        </div>
                    </div><br>
                    <div id="monthly_wrap">
                        <div class="input_container">
                            <div class="text-input">
                                <input id="monthly_value" type="text" th:field="*{monthly}" placeholder="만원">
                                <label for="monthly_value">월세(만원)</label>
                            </div>
                        </div>
                        <div class="range_container">
                            <div class="slider-ui color">
                                <input type="range" min="0" max="700" step="10" th:field="*{monthly}"
                                       oninput="document.getElementById('monthly_value').value=this.value;">
                                <div class="bar">
                                    <span class="min">0</span>
                                    <span class="max">700</span>
                                </div>
                                <div class="track">
                                    <div class="value" th:text="*{monthly}"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <br><br>
                <div class="requirements" id="traffic">
                    <p>교통</p>
                    <div class="input_container">
                        <div class="text-input">
                            <input id="school_company" type="text" th:field="*{address}">
                            <label for="school_company">학교/직장</label>
                        </div>
                        <input class="button" type="button" value="찾기" onclick="findAddress();"><br><br>
                    </div>
                    <div class="range_container">
                        <div class="slider-ui color">
                            <input type="range" min="0" max="100" step="10"th:field="*{traffic}">
                            <div class="bar">
                                <span class="min">0</span>
                                <span class="max">100</span>
                            </div>
                            <div class="track">
                                <div class="value" th:text="*{traffic}"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="requirements" id="convenient">
                    <p>편의시설</p>
                    <div class="range_container">
                        <div class="slider-ui color">
                            <input id="total" type="range" min="0" max="100" step="1" th:field="*{convenient.total}"
                                   oninput="divideValue(this.value);">
                            <div class="bar">
                                <span class="min">0</span>
                                <span class="max">100</span>
                            </div>
                            <div class="track">
                                <div class="value" id="total_value" th:text="*{convenient.total}"></div>
                            </div>
                        </div>
                    </div><br><br>
                    <button type="button" id="detail_btn" onclick="click_detail_btn();">
                        <img id="detail_btn_img" src="/image/open.png" style="width: 25px; height: 25px">
                    </button>
                </div>
                <div class="convenient_detail"  id="convenient_detail" style="display: none">
                    <div class="convenient_detail_more">
                        오락
                        <div class="range_container">
                            <div class="slider-ui color">
                                <input id="joy" type="range" min="0" max="100" step="1" th:field="*{convenient.joy}">
                                <div class="bar">
                                    <span class="min">0</span>
                                    <span class="max">100</span>
                                </div>
                                <div class="track">
                                    <div class="value" id="joy_value" th:text="*{convenient.joy}"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="convenient_detail_more">
                        생활서비스
                        <div class="range_container">
                            <div class="slider-ui color">
                                <input id="life" type="range" min="0" max="100" step="1" th:field="*{convenient.life}">
                                <div class="bar">
                                    <span class="min">0</span>
                                    <span class="max">100</span>
                                </div>
                                <div class="track">
                                    <div class="value" id="life_value" th:text="*{convenient.life}"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="convenient_detail_more">
                        소매
                        <div class="range_container">
                            <div class="slider-ui color">
                                <input id="shop" type="range" min="0" max="100" step="1" th:field="*{convenient.shop}">
                                <div class="bar">
                                    <span class="min">0</span>
                                    <span class="max">100</span>
                                </div>
                                <div class="track">
                                    <div class="value" id="shop_value" th:text="*{convenient.shop}"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="convenient_detail_more">
                        스포츠
                        <div class="range_container">
                            <div class="slider-ui color">
                                <input id="sport" type="range" min="0" max="100" step="1" th:field="*{convenient.sport}">
                                <div class="bar">
                                    <span class="min">0</span>
                                    <span class="max">100</span>
                                </div>
                                <div class="track">
                                    <div class="value" id="sport_value" th:text="*{convenient.sport}"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="convenient_detail_more">
                        음식
                        <div class="range_container">
                            <div class="slider-ui color">
                                <input id="food" type="range" min="0" max="100" step="1" th:field="*{convenient.food}">
                                <div class="bar">
                                    <span class="min">0</span>
                                    <span class="max">100</span>
                                </div>
                                <div class="track">
                                    <div class="value" id="food_value" th:text="*{convenient.food}"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="convenient_detail_more">
                        교육
                        <div class="range_container">
                            <div class="slider-ui color">
                                <input id="edu" type="range" min="0" max="100" step="1" th:field="*{convenient.edu}">
                                <div class="bar">
                                    <span class="min">0</span>
                                    <span class="max">100</span>
                                </div>
                                <div class="track">
                                    <div class="value" id="edu_value" th:text="*{convenient.edu}"></div>
                                </div>
                            </div>
                        </div>
                    </div><br><br>
                    <a href='javascript:void(0);' onclick="mergeValues();">적용</a>
                </div>
                <div class="requirements" id="safety">
                    <p>안전</p>
                    <div class="range_container">
                        <div class="slider-ui color">
                            <input type="range" min="0" max="100" step="10" th:field="*{safety}">
                            <div class="bar">
                                <span class="min">0</span>
                                <span class="max">100</span>
                            </div>
                            <div class="track">
                                <div class="value" th:text="*{safety}"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="requirements" id="environment">
                    <p>주변환경</p>
                    <div>
                        <div id="girl">　여</div>
                        <div id="boy">남　</div>
                    </div>
                    <br>
                    <div class="range_container">
                        <div class="slider-ui color">
                            <input type="range" min="0" max="100" step="10" th:field="*{sex_ratio}">
                            <div class="bar">
                                <span class="min">0</span>
                                <span class="max">100</span>
                            </div>
                            <div class="track">
                                <div class="value" th:text="*{sex_ratio}"></div>
                            </div>
                        </div>
                    </div>
                    <br><br>
                    주요 거주 연령층
                    <div class="radio_container">
                        <div class="toggle-radio">
                            <input type="radio" id="info3" name="age-type" value="child" th:checked="*{age_type}">
                            <label for="info3">유아 및 청소년</label>

                            <input type="radio" id="info4" name="age-type" value="s2030" th:checked="*{age_type}">
                            <label for="info4">20대 및 30대</label>

                            <input type="radio" id="info5" name="age-type" value="s4050" th:checked="*{age_type}">
                            <label for="info5">40대 및 50대</label>

                            <input type="radio" id="info6" name="age-type" value="elder" th:checked="*{age_type}">
                            <label for="info6">60대 이상</label>
                        </div>
                    </div>
                </div>
                <br>
                <div class="requirements" id="find_btn">
                    <input class="button" type="submit" value="찾기"/>
                </div>
                <br>
                <script type="text/javascript">
                    sliderStart();
                </script>
            </form>
        </div>
    </div>
    <div class="copyright">
        Copyright © by FindMyself 2021, Inc. All rights reserved
    </div>
</body>
</html>